---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.vue';
import Footer from '../components/Footer.vue';
import Icon from '../components/Icon.vue';
import data from '../content/data.json';
---

<Layout title={data.name}>
	<div class="page-container">
		<!-- Hero Section -->
		<section class="pt-8">
			<Header client:load />
		</section>

		<!-- What I'm working on -->
		<section>
			<div class="section-grid">
				<h2 class="section-title">What I'm working on</h2>
				<div class="cards-container">
					{data.workingOn.map((item) => (
						<a href={item.href} target="_blank" rel="noopener noreferrer" class={`card card-${item.color} card-hover block`}>
							<div class="card-header-sm">
								<Icon name={item.icon} size={20} color="currentColor" client:load />
								<span class={`card-title text-${item.color}-title`}>{item.title}</span>
								<span class={`text-sm text-${item.color}-role`}>· {item.role}</span>
							</div>
							<p class={`text-sm text-${item.color}-desc`}>{item.description}</p>
						</a>
					))}
				</div>
			</div>
		</section>

		<!-- Current Positions -->
		<section>
			<div class="section-grid">
				<h2 class="section-title">Current Positions</h2>
				<div class="cards-container">
					<div class="card card-blue">
						<div class="card-header-sm">
							<Icon name="code" size={20} color="currentColor" client:load />
							<span class="card-title">DevOps Head</span>
						</div>
						<p class="text-sm text-blue-desc">Google Developers Group MAIT</p>
					</div>
					<div class="card card-emerald">
						<div class="card-header-sm">
							<Icon name="users" size={20} color="currentColor" client:load />
							<span class="card-title">Member</span>
						</div>
						<p class="text-sm text-emerald-desc">IOSD MAIT</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Reach out -->
		<section>
			<div class="section-grid">
				<h2 class="section-title">Reach out!</h2>
				<div class="social-cards">
					{data.social.map((item) => {
						if (item.icon === 'github') {
							return (
								<div class="relative w-24 h-20 sm:w-28 sm:h-24 group">
									<a href={item.href} target="_blank" rel="noopener noreferrer" class={`social-card card-${item.color} github-card-cut`}>
										<Icon name={item.icon} size={24} color="currentColor" class="mb-2" client:load />
										<span class={`text-sm text-${item.color}-desc`}>{item.name}</span>
									</a>
									<a href="https://github.com/23f3001694" target="_blank" rel="noopener noreferrer" class="github-corner" title="Second GitHub" />
								</div>
							);
						}
						return (
							<a href={item.href} target={item.href.startsWith('mailto') ? undefined : '_blank'} rel={item.href.startsWith('mailto') ? undefined : 'noopener noreferrer'} class={`social-card card-${item.color}`}>
								<Icon name={item.icon} size={24} color="currentColor" class="mb-2" client:load />
								<span class={`text-sm text-${item.color}-desc`}>{item.name}</span>
							</a>
						);
					})}
				</div>
			</div>
		</section>

		<!-- Past doings -->
		<section>
			<div class="section-grid">
				<h2 class="section-title">Past doings</h2>
				<div class="cards-container">
					<!-- Work -->
					<div class="card card-orange">
						<div class="card-header">
							<Icon name="briefcase" size={20} color="currentColor" client:load />
							<span class="card-title">Work</span>
						</div>
						<div class="space-y-4">
							{data.work.map((item) => (
								<div class="flex justify-between items-start">
									<div>
										<p class="text-orange-title font-medium">{item.title} · {item.company}</p>
										<p class="text-orange-desc text-sm mt-1">{item.description}</p>
									</div>
									<span class="text-orange-role text-sm font-mono shrink-0 ml-4">{item.year}</span>
								</div>
							))}
						</div>
					</div>

					<!-- Projects -->
					<div class="card card-violet">
						<div class="card-header">
							<Icon name="rocket" size={20} color="currentColor" client:load />
							<span class="card-title">Projects</span>
						</div>
						<div class="space-y-4">
							{data.projects.map((item) => (
								<div class="hover:bg-white/5 -mx-2 px-2 py-1 transition-colors">
									<div class="flex justify-between items-start">
										<div>
											<p class="text-violet-title font-medium">{item.title}</p>
											<p class="text-violet-desc text-sm mt-1">{item.description}</p>
											<div class="flex gap-3 mt-2">
												<a href={item.href} target="_blank" rel="noopener noreferrer" class="project-link">Code ↗</a>
												{item.live && <a href={item.live} target="_blank" rel="noopener noreferrer" class="project-link">Live ↗</a>}
											</div>
										</div>
									</div>
								</div>
							))}
						</div>
					</div>

					<!-- Skills & Achievements -->
					<div class="card card-slate">
						<div class="card-header">
							<Icon name="zap" size={20} color="currentColor" client:load />
							<span class="card-title">Skills & Achievements</span>
						</div>
						<div class="space-y-3 text-sm">
							<p class="text-slate-title"><span class="text-slate-desc">Languages:</span> {data.skills.languages}</p>
							<p class="text-slate-title"><span class="text-slate-desc">Frameworks:</span> {data.skills.frameworks}</p>
							<p class="text-slate-title"><span class="text-slate-desc">Tools:</span> {data.skills.tools}</p>
							<div class="pt-2 border-t border-slate-700/50 mt-3 space-y-2">
								{data.achievements.map((item) => (
									<p class="text-slate-300 flex items-center gap-2">
										<Icon name={item.icon} size={16} color="currentColor" client:load />
										{item.text}
									</p>
								))}
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<Footer />
	</div>
</Layout>
